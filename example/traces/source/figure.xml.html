<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title>figure.xml</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="source.css" type="text/css">
</head>
<body>
<h2>figure.xml</h2>

<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143</pre></div></td><td class="code"><div class="source"><pre><a name="line-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;</span>
<a name="line-2"></a><span class="cp">&lt;!DOCTYPE section PUBLIC &quot;-//OASIS//DTD DocBook XML V4.4//EN&quot;</span>
<a name="line-3"></a><span class="cp">&quot;http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd&quot;&gt;</span>
<a name="line-4"></a>  <span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-figinclude&quot;</span><span class="nt">&gt;</span>
<a name="line-5"></a>   <span class="nt">&lt;title&gt;</span>
<a name="line-6"></a>   Figure Inclusion
<a name="line-7"></a>  <span class="nt">&lt;/title&gt;</span>
<a name="line-8"></a>   <span class="nt">&lt;section&gt;</span>
<a name="line-9"></a>    <span class="nt">&lt;title&gt;</span>
<a name="line-10"></a>    Presentation
<a name="line-11"></a>   <span class="nt">&lt;/title&gt;</span>
<a name="line-12"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-13"></a>    The expected format of the included figures depends on the backend driver used:
<a name="line-14"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-15"></a>   <span class="nt">&lt;variablelist&gt;</span>
<a name="line-16"></a>    <span class="nt">&lt;varlistentry&gt;</span>
<a name="line-17"></a>    <span class="nt">&lt;term&gt;</span>
<a name="line-18"></a>    dvips:
<a name="line-19"></a><span class="nt">&lt;/term&gt;&lt;listitem&gt;&lt;para&gt;</span>EPS format is required.
<a name="line-20"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-21"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-22"></a>   <span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-23"></a>    <span class="nt">&lt;varlistentry&gt;</span>
<a name="line-24"></a>    <span class="nt">&lt;term&gt;</span>
<a name="line-25"></a>    pdftex:
<a name="line-26"></a><span class="nt">&lt;/term&gt;&lt;listitem&gt;&lt;para&gt;</span>PDF or PNG format is required.
<a name="line-27"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-28"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-29"></a>   <span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-30"></a>   <span class="nt">&lt;/variablelist&gt;</span>
<a name="line-31"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-32"></a>    In order to be able to use both backends, it is wise to not write the suffix of the file that references the figure. The suffix will be deduced from the backend used.
<a name="line-33"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-34"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-35"></a>    The figures must either already exists in the expected format, or must be able to be converted on the fly.
<a name="line-36"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-37"></a><span class="nt">&lt;example&gt;&lt;title&gt;</span>Figure inclusion<span class="nt">&lt;/title&gt;</span>
<a name="line-38"></a>   <span class="nt">&lt;programlisting&gt;</span>
<a name="line-39"></a><span class="cp">&lt;![CDATA[&lt;figure id=&quot;fig-exemple1&quot;&gt; </span>
<a name="line-40"></a><span class="cp">]]&gt;&lt;![CDATA[  &lt;title&gt;Components&lt;/title&gt; </span>
<a name="line-41"></a><span class="cp">]]&gt;&lt;![CDATA[  &lt;mediaobject&gt;</span>
<a name="line-42"></a><span class="cp">]]&gt;&lt;![CDATA[    &lt;imageobject&gt; </span>
<a name="line-43"></a><span class="cp">]]&gt;&lt;![CDATA[      &lt;imagedata fileref=&quot;path/figure1&quot; align=&quot;center&quot; scale=&quot;70&quot;&gt; </span>
<a name="line-44"></a><span class="cp">]]&gt;&lt;![CDATA[    &lt;/imageobject&gt; </span>
<a name="line-45"></a><span class="cp">]]&gt;&lt;![CDATA[  &lt;/mediaobject&gt;</span>
<a name="line-46"></a><span class="cp">]]&gt;&lt;![CDATA[&lt;/figure&gt;</span>
<a name="line-47"></a><span class="cp">]]&gt;</span>   <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-48"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-49"></a>   <span class="nt">&lt;/section&gt;</span>
<a name="line-50"></a>   <span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-figconv&quot;</span><span class="nt">&gt;</span>
<a name="line-51"></a>    <span class="nt">&lt;title&gt;</span>
<a name="line-52"></a>    Converting on the fly
<a name="line-53"></a>   <span class="nt">&lt;/title&gt;</span>
<a name="line-54"></a>   <span class="nt">&lt;para&gt;</span>When it is needed dblatex tries to automatically convert the figures to
<a name="line-55"></a>   the expected format (i.e. EPS or PDF). The principle is to detect the original
<a name="line-56"></a>   figure format from the suffix of the fileref attribute. If no suffix is given,
<a name="line-57"></a>   the tool checks if a file whose basename is conformant with the
<a name="line-58"></a>   fileref attribute and with one of the predefined suffixes exists (that is, &quot;.eps&quot;,
<a name="line-59"></a>   &quot;.fig&quot;, &quot;.pdf&quot;, or &quot;.png&quot;). If such a file exists, conversion is done from the
<a name="line-60"></a>   original format found.
<a name="line-61"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-62"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-63"></a>    The option <span class="nt">&lt;option&gt;</span>-f <span class="nt">&lt;replaceable&gt;</span>fig_format<span class="nt">&lt;/replaceable&gt;&lt;/option&gt;</span> allows to specify the default included figures format (<span class="nt">&lt;replaceable&gt;</span>fig_format<span class="nt">&lt;/replaceable&gt;</span>), that will be used when automatic format scanning gives no result. Then, the tool converts the figures from the specified format to the expected one.
<a name="line-64"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-65"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-66"></a>    If the specified format is unknown, no conversion is done. The supported formats are:
<a name="line-67"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-68"></a>   <span class="nt">&lt;variablelist&gt;</span>
<a name="line-69"></a>    <span class="nt">&lt;varlistentry&gt;</span>
<a name="line-70"></a>    <span class="nt">&lt;term&gt;</span>
<a name="line-71"></a>    fig:
<a name="line-72"></a><span class="nt">&lt;/term&gt;&lt;listitem&gt;&lt;para&gt;</span>native format of the figures produced by XFig.
<a name="line-73"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-74"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-75"></a>   <span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-76"></a>    <span class="nt">&lt;varlistentry&gt;</span>
<a name="line-77"></a>    <span class="nt">&lt;term&gt;</span>
<a name="line-78"></a>    eps:
<a name="line-79"></a><span class="nt">&lt;/term&gt;&lt;listitem&gt;&lt;para&gt;</span>Encapsulated PostScript format. This format shall be specified only when using the pdftex backend.
<a name="line-80"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-81"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-82"></a>   <span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-83"></a>   <span class="nt">&lt;/variablelist&gt;</span>
<a name="line-84"></a><span class="nt">&lt;example&gt;&lt;title&gt;</span>Figure conversion<span class="nt">&lt;/title&gt;</span>
<a name="line-85"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-86"></a>    The following command compiles a document that contains figures produced with XFig.
<a name="line-87"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-88"></a>   <span class="nt">&lt;programlisting&gt;</span>
<a name="line-89"></a><span class="cp">&lt;![CDATA[% dblatex -f fig mydoc.sgml</span>
<a name="line-90"></a><span class="cp">]]&gt;</span>   <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-91"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-92"></a>   <span class="nt">&lt;/section&gt;</span>
<a name="line-93"></a>   <span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-lookup&quot;</span><span class="nt">&gt;</span>
<a name="line-94"></a>    <span class="nt">&lt;title&gt;</span>
<a name="line-95"></a>    Paths Lookup
<a name="line-96"></a>   <span class="nt">&lt;/title&gt;</span>
<a name="line-97"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-98"></a>    You can use and cumulate the option <span class="nt">&lt;option&gt;</span>-I <span class="nt">&lt;replaceable&gt;</span>path<span class="nt">&lt;/replaceable&gt;&lt;/option&gt;</span> to specify where the figures are. The given paths can be absolute or relative.
<a name="line-99"></a>    The paths are added to the document root path.
<a name="line-100"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-101"></a><span class="nt">&lt;example&gt;&lt;title&gt;</span>Figures lookup<span class="nt">&lt;/title&gt;</span>
<a name="line-102"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-103"></a>    This example shows how figure lookup is done. Let&#39;s consider this document source:
<a name="line-104"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-105"></a>   <span class="nt">&lt;programlisting&gt;</span>
<a name="line-106"></a><span class="cp">&lt;![CDATA[&lt;figure id=&quot;fig-example1&quot;&gt; </span>
<a name="line-107"></a><span class="cp">]]&gt;&lt;![CDATA[  &lt;title&gt;Composants&lt;/title&gt; </span>
<a name="line-108"></a><span class="cp">]]&gt;&lt;![CDATA[  &lt;mediaobject&gt;</span>
<a name="line-109"></a><span class="cp">]]&gt;&lt;![CDATA[    &lt;imageobject&gt; </span>
<a name="line-110"></a><span class="cp">]]&gt;&lt;![CDATA[      &lt;imagedata fileref=&quot;rep1/rep2/figure1&quot; align=&quot;center&quot; scale=&quot;70&quot;&gt; </span>
<a name="line-111"></a><span class="cp">]]&gt;&lt;![CDATA[    &lt;/imageobject&gt; </span>
<a name="line-112"></a><span class="cp">]]&gt;&lt;![CDATA[  &lt;/mediaobject&gt;</span>
<a name="line-113"></a><span class="cp">]]&gt;&lt;![CDATA[&lt;/figure&gt;</span>
<a name="line-114"></a><span class="cp">]]&gt;</span>   <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-115"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-116"></a>    And the document is compiled like this:
<a name="line-117"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-118"></a>   <span class="nt">&lt;programlisting&gt;</span>
<a name="line-119"></a><span class="cp">&lt;![CDATA[% dblatex -I /another/path -I /last/case /initial/path/document.sgml</span>
<a name="line-120"></a><span class="cp">]]&gt;</span>   <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-121"></a>   <span class="nt">&lt;para&gt;</span>
<a name="line-122"></a>    The figure1 lookup is done in the following directories, in respect of the order:
<a name="line-123"></a>   <span class="nt">&lt;/para&gt;</span>
<a name="line-124"></a>   <span class="nt">&lt;itemizedlist</span> <span class="na">spacing=</span><span class="s">&quot;compact&quot;</span><span class="nt">&gt;</span>
<a name="line-125"></a>    <span class="nt">&lt;listitem&gt;</span>
<a name="line-126"></a>    <span class="nt">&lt;para&gt;</span>
<a name="line-127"></a>    <span class="nt">&lt;filename&gt;</span>/initial/path/rep1/rep2<span class="nt">&lt;/filename&gt;</span> ;
<a name="line-128"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-129"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-130"></a>    <span class="nt">&lt;listitem&gt;</span>
<a name="line-131"></a>    <span class="nt">&lt;para&gt;</span>
<a name="line-132"></a>    <span class="nt">&lt;filename&gt;</span>/another/path/rep1/rep2<span class="nt">&lt;/filename&gt;</span> ;
<a name="line-133"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-134"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-135"></a>    <span class="nt">&lt;listitem&gt;</span>
<a name="line-136"></a>    <span class="nt">&lt;para&gt;</span>
<a name="line-137"></a>    <span class="nt">&lt;filename&gt;</span>/last/case/rep1/rep2<span class="nt">&lt;/filename&gt;</span>.
<a name="line-138"></a>    <span class="nt">&lt;/para&gt;</span>
<a name="line-139"></a>   <span class="nt">&lt;/listitem&gt;</span>
<a name="line-140"></a>   <span class="nt">&lt;/itemizedlist&gt;</span>
<a name="line-141"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-142"></a>   <span class="nt">&lt;/section&gt;</span>
<a name="line-143"></a>  <span class="nt">&lt;/section&gt;</span>
</pre></div>
</td></tr></table></body>
</html>
