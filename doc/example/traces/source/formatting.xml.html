<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title>formatting.xml</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="source.css" type="text/css">
</head>
<body>
<h2>formatting.xml</h2>

<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205</pre></div></td><td class="code"><div class="source"><pre><a name="line-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a name="line-2"></a><span class="cp">&lt;!DOCTYPE section PUBLIC &quot;-//OASIS//DTD DocBook XML V4.4//EN&quot;</span>
<a name="line-3"></a><span class="cp">&quot;http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd&quot;&gt;</span>
<a name="line-4"></a>
<a name="line-5"></a><span class="nt">&lt;section&gt;</span>
<a name="line-6"></a>  <span class="nt">&lt;title&gt;</span>Correcting Poor Formatting<span class="nt">&lt;/title&gt;</span>
<a name="line-7"></a>
<a name="line-8"></a>  <span class="nt">&lt;para&gt;</span>LaTeX does not invariably produce good looking output.  To
<a name="line-9"></a>  remedy this it can sometimes be useful to guide LaTeX in the
<a name="line-10"></a>  formatting of individual characters, words, sentences, and pages.
<a name="line-11"></a>  It is best to adjust with caution, making adjustments only to fix
<a name="line-12"></a>  specific problems and limiting adjustments to the affected
<a name="line-13"></a>  area.<span class="nt">&lt;/para&gt;</span>
<a name="line-14"></a>
<a name="line-15"></a>  <span class="nt">&lt;tip&gt;</span>
<a name="line-16"></a>    <span class="nt">&lt;para&gt;</span>Adjustments to formatting are best done late in the
<a name="line-17"></a>    production process so that subsequent changes to content do not
<a name="line-18"></a>    produce new problems.<span class="nt">&lt;/para&gt;</span>
<a name="line-19"></a>  <span class="nt">&lt;/tip&gt;</span>
<a name="line-20"></a>
<a name="line-21"></a>  <span class="nt">&lt;para&gt;</span>This section provides an overview of common problems and
<a name="line-22"></a>  summarizes methods which may be used to resolve issues related to
<a name="line-23"></a>  formatting.  Much more detail can be found in the <span class="nt">&lt;xref</span>
<a name="line-24"></a>  <span class="na">linkend=</span><span class="s">&quot;sec-custom&quot;</span><span class="nt">/&gt;</span> chapter and the <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-params&quot;</span><span class="nt">/&gt;</span>
<a name="line-25"></a>  and <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-pis&quot;</span><span class="nt">/&gt;</span> appendixes.  Be sure to look through
<a name="line-26"></a>  these, especially the appendixes, to see whether there is an
<a name="line-27"></a>  adjustment which will solve your particular problem.  Of course the
<a name="line-28"></a>  DocBook documentation should also be consulted to see if a DocBook
<a name="line-29"></a>  attribute can be used to adjust document presentation.<span class="nt">&lt;/para&gt;</span>
<a name="line-30"></a>
<a name="line-31"></a>  <span class="nt">&lt;section&gt;</span>
<a name="line-32"></a>    <span class="nt">&lt;title&gt;</span>Floats<span class="nt">&lt;/title&gt;</span>
<a name="line-33"></a>    
<a name="line-34"></a>    <span class="nt">&lt;para&gt;</span>Floats are figures, tables, examples, images, and so forth
<a name="line-35"></a>    which do not necessarily appear in the output document in the
<a name="line-36"></a>    location in which they appear in the DocBook source.  The
<a name="line-37"></a>    placement of floats can result in visually poor or otherwise
<a name="line-38"></a>    undesirable output.<span class="nt">&lt;/para&gt;</span>
<a name="line-39"></a>
<a name="line-40"></a>    <span class="nt">&lt;para&gt;</span>One direct approach is to use the <span class="nt">&lt;quote&gt;</span>informal<span class="nt">&lt;/quote&gt;</span>
<a name="line-41"></a>    versions of the affected DocBook elements.  E.g. use
<a name="line-42"></a>    <span class="nt">&lt;sgmltag&gt;</span>informaltable<span class="nt">&lt;/sgmltag&gt;</span> instead of
<a name="line-43"></a>    <span class="nt">&lt;sgmltag&gt;</span>table<span class="nt">&lt;/sgmltag&gt;</span>.  The <span class="nt">&lt;quote&gt;</span>informal<span class="nt">&lt;/quote&gt;</span> elements do
<a name="line-44"></a>    not float.  Bear in mind though that <span class="nt">&lt;quote&gt;</span>informal<span class="nt">&lt;/quote&gt;</span>
<a name="line-45"></a>    elements do not appear in the table of contents.<span class="nt">&lt;/para&gt;</span>
<a name="line-46"></a>    
<a name="line-47"></a>    <span class="nt">&lt;para&gt;</span>The alternative to eliminating the float entirely is
<a name="line-48"></a>    to make an adjustment by parameter, attributes, or processing
<a name="line-49"></a>    instruction. For figure, example, and equation, you can play
<a name="line-50"></a>    with these methods:<span class="nt">&lt;/para&gt;</span>
<a name="line-51"></a>
<a name="line-52"></a>    <span class="nt">&lt;itemizedlist&gt;</span>
<a name="line-53"></a>    <span class="nt">&lt;listitem&gt;&lt;para&gt;</span>In a specific element, use the
<a name="line-54"></a>    <span class="nt">&lt;sgmltag&gt;</span>floatstyle<span class="nt">&lt;/sgmltag&gt;</span> attribute to
<a name="line-55"></a>    specify the latex float placement policy. For example
<a name="line-56"></a>    <span class="nt">&lt;literal&gt;</span>&#39;[H]&#39;<span class="nt">&lt;/literal&gt;</span> tries to place the element where it is
<a name="line-57"></a>    declared.<span class="nt">&lt;/para&gt;&lt;/listitem&gt;</span>
<a name="line-58"></a>
<a name="line-59"></a>    <span class="nt">&lt;listitem&gt;&lt;para&gt;</span>Use the parameter
<a name="line-60"></a>    <span class="nt">&lt;literal&gt;&lt;replaceable&gt;</span>element<span class="nt">&lt;/replaceable&gt;</span>.defaut.position<span class="nt">&lt;/literal&gt;</span>
<a name="line-61"></a>    to specify globaly the placement policy for this element.<span class="nt">&lt;/para&gt;</span>
<a name="line-62"></a>    <span class="nt">&lt;/listitem&gt;</span>
<a name="line-63"></a>    <span class="nt">&lt;/itemizedlist&gt;</span>
<a name="line-64"></a>
<a name="line-65"></a>    <span class="nt">&lt;para&gt;</span>Look at page <span class="nt">&lt;xref</span> <span class="na">xrefstyle=</span><span class="s">&quot;template:%p&quot;</span>
<a name="line-66"></a>    <span class="na">linkend=</span><span class="s">&quot;float-placement-choices&quot;</span><span class="nt">/&gt;</span> for more details
<a name="line-67"></a>    about the meaning of the placement choice letters.<span class="nt">&lt;/para&gt;</span>
<a name="line-68"></a>  <span class="nt">&lt;/section&gt;</span>
<a name="line-69"></a>
<a name="line-70"></a>  <span class="nt">&lt;section&gt;</span>
<a name="line-71"></a>    <span class="nt">&lt;title&gt;</span>Tables<span class="nt">&lt;/title&gt;</span>
<a name="line-72"></a>
<a name="line-73"></a>    <span class="nt">&lt;para&gt;</span>Placement problems with tables relate to their
<a name="line-74"></a>    classification as a float.  For resolution regarding these issues
<a name="line-75"></a>    see the section on floats above.<span class="nt">&lt;/para&gt;</span>
<a name="line-76"></a>
<a name="line-77"></a>    <span class="nt">&lt;para&gt;</span>Tables exceeding the length of a page, or tables that
<a name="line-78"></a>    otherwise need to cross page boundaries, have special
<a name="line-79"></a>    requirements.  They must not be floats and must be rendered using
<a name="line-80"></a>    the LaTeX <span class="nt">&lt;package&gt;</span>longtable<span class="nt">&lt;/package&gt;</span> environment.  Among the
<a name="line-81"></a>    available controls are: use of a <span class="nt">&lt;sgmltag&gt;</span>informaltable<span class="nt">&lt;/sgmltag&gt;</span>
<a name="line-82"></a>    element in place of a <span class="nt">&lt;sgmltag&gt;</span>table<span class="nt">&lt;/sgmltag&gt;</span> element, the
<a name="line-83"></a>    <span class="nt">&lt;sgmltag&gt;</span>table<span class="nt">&lt;/sgmltag&gt;</span> element&#39;s <span class="nt">&lt;sgmltag&gt;</span>tabstyle<span class="nt">&lt;/sgmltag&gt;</span>
<a name="line-84"></a>    attribute, the <span class="nt">&lt;parameter&gt;</span>table.default.tabstyle<span class="nt">&lt;/parameter&gt;</span> parameter,
<a name="line-85"></a>    the <span class="nt">&lt;parameter&gt;</span>table.in.float<span class="nt">&lt;/parameter&gt;</span> parameter<span class="c">&lt;!--, and the &lt;xref</span>
<a name="line-86"></a><span class="c">    linkend=&quot;dblatex_table-in-float&quot;/&gt; PI--&gt;</span>.<span class="nt">&lt;/para&gt;</span>
<a name="line-87"></a>
<a name="line-88"></a>    <span class="nt">&lt;para&gt;</span>It is worth mentioning that good typesetting design practice
<a name="line-89"></a>    for tables generally calls for eliminating all vertical rules (the
<a name="line-90"></a>    lines between columns) and most horizontal rules.<span class="nt">&lt;/para&gt;</span>
<a name="line-91"></a>
<a name="line-92"></a>    <span class="nt">&lt;para&gt;</span><span class="cp">&lt;?latex-block sloppy=&quot;1&quot;?&gt;</span>Better vertical placement of
<a name="line-93"></a>    table horizontal rules can be obtained by providing values for
<a name="line-94"></a>    the <span class="nt">&lt;parameter&gt;</span>newtbl.format.thead<span class="nt">&lt;/parameter&gt;</span> and
<a name="line-95"></a>    <span class="nt">&lt;parameter&gt;</span>newtbl.format.tbody<span class="nt">&lt;/parameter&gt;</span> parameters.  Depending on the
<a name="line-96"></a>    font in use, a value like
<a name="line-97"></a>    <span class="nt">&lt;literal&gt;</span>\rule{0pt}{2.6ex}\rule[-0.9ex]{0pt}{0pt}<span class="nt">&lt;/literal&gt;</span> can be
<a name="line-98"></a>    used for both parameters.  This inserts a
<a name="line-99"></a>    <span class="nt">&lt;wordasword&gt;</span>strut<span class="nt">&lt;/wordasword&gt;</span>, a 0 width character, in each row
<a name="line-100"></a>    of the table which <span class="nt">&lt;quote&gt;</span>pushes<span class="nt">&lt;/quote&gt;</span> the horizontal rules
<a name="line-101"></a>    upwards and downwards to provide adequate vertical spacing.<span class="nt">&lt;/para&gt;</span>
<a name="line-102"></a>  <span class="nt">&lt;/section&gt;</span>
<a name="line-103"></a>
<a name="line-104"></a>  <span class="nt">&lt;section&gt;</span>
<a name="line-105"></a>    <span class="nt">&lt;title&gt;</span>Examples<span class="nt">&lt;/title&gt;</span>
<a name="line-106"></a>
<a name="line-107"></a>    <span class="nt">&lt;para&gt;</span>Placement of examples has the same issue than tables, that is, it
<a name="line-108"></a>    is an element that can contain many materials and need to split over
<a name="line-109"></a>    several pages. In this case it cannot be considered as a float.<span class="nt">&lt;/para&gt;</span>
<a name="line-110"></a>
<a name="line-111"></a>    <span class="nt">&lt;para&gt;</span>To avoid an example floating and to allow it cover several
<a name="line-112"></a>    pages, set the parameter <span class="nt">&lt;parameter&gt;</span>example.float.type<span class="nt">&lt;/parameter&gt;</span>
<a name="line-113"></a>    to <span class="nt">&lt;literal&gt;</span>none<span class="nt">&lt;/literal&gt;</span>.<span class="nt">&lt;/para&gt;</span>
<a name="line-114"></a>  <span class="nt">&lt;/section&gt;</span>
<a name="line-115"></a>
<a name="line-116"></a>  <span class="nt">&lt;section&gt;</span>
<a name="line-117"></a>    <span class="nt">&lt;title&gt;</span>Hyphenation and over-long lines<span class="nt">&lt;/title&gt;</span>
<a name="line-118"></a>
<a name="line-119"></a>    <span class="nt">&lt;para&gt;</span>LaTeX is generally very good at hyphenation, but this
<a name="line-120"></a>    applies only to actual words.  Technical writing may include long
<a name="line-121"></a>    character sequences that are not actual words.  Hyphenation
<a name="line-122"></a>    failure will typically result in lines of text that flow past the
<a name="line-123"></a>    expected right-hand edge of a line.  In LaTeX terminology this is
<a name="line-124"></a>    known as a <span class="nt">&lt;quote&gt;</span>overfull hbox<span class="nt">&lt;/quote&gt;</span>.<span class="nt">&lt;/para&gt;</span>
<a name="line-125"></a>
<a name="line-126"></a>    <span class="nt">&lt;para&gt;</span>The <span class="nt">&lt;parameter&gt;</span>hyphenation.format<span class="nt">&lt;/parameter&gt;</span> parameter can
<a name="line-127"></a>    be helpful to flag some formats for more agressive
<a name="line-128"></a>    hyphenation.<span class="nt">&lt;/para&gt;</span>
<a name="line-129"></a>
<a name="line-130"></a>    <span class="nt">&lt;para&gt;</span>Various adjustments can be made with the
<a name="line-131"></a>    <span class="nt">&lt;sgmltag</span> <span class="na">class=</span><span class="s">&quot;xmlpi&quot;</span><span class="nt">&gt;</span>latex<span class="nt">&lt;/sgmltag&gt;</span> processing instruction to
<a name="line-132"></a>    add raw latex directives and eliminate
<a name="line-133"></a>    overfull hboxes but it often makes sense to address hyphenation
<a name="line-134"></a>    problems directly.  This can be done either on an ad-hoc basis,
<a name="line-135"></a>    telling LaTeX how to hyphenate specific occurrences of words where
<a name="line-136"></a>    a problem exists, or by telling LaTeX how to hyphenate words it
<a name="line-137"></a>    does not know.  The first method is accomplished by inserting
<a name="line-138"></a>    <span class="nt">&lt;quote&gt;</span>soft hyphens<span class="nt">&lt;/quote&gt;</span> into words in your DocBook source
<a name="line-139"></a>    using the <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;pi-latex&quot;</span><span class="nt">/&gt;</span> processing instruction.  This is
<a name="line-140"></a>    described in the <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-safe-latex&quot;</span><span class="nt">/&gt;</span> section.<span class="nt">&lt;/para&gt;</span>
<a name="line-141"></a>
<a name="line-142"></a>    <span class="nt">&lt;para&gt;</span>To educate LaTeX as to how to hyphenate your special
<a name="line-143"></a>    vocabulary a custom LaTeX style is required.  Setting this up is
<a name="line-144"></a>    described in the <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-custom-latex&quot;</span><span class="nt">/&gt;</span> section.  The
<a name="line-145"></a>    LaTeX command to use is <span class="nt">&lt;code&gt;</span>\hyphenation<span class="nt">&lt;/code&gt;</span>.  For example
<a name="line-146"></a>    <span class="nt">&lt;code&gt;</span>\hyphenation{PostgreSQL trans-mog-re-fi-ca-tion}<span class="nt">&lt;/code&gt;</span>
<a name="line-147"></a>    tells LaTeX that <span class="nt">&lt;wordasword&gt;</span>PostgreSQL<span class="nt">&lt;/wordasword&gt;</span> should not be
<a name="line-148"></a>    hyphenated and where to hyphenate
<a name="line-149"></a>    <span class="nt">&lt;wordasword&gt;</span>transmogrification<span class="nt">&lt;/wordasword&gt;</span>.<span class="nt">&lt;/para&gt;</span>
<a name="line-150"></a>
<a name="line-151"></a>    <span class="nt">&lt;para&gt;</span>Finally, long URLs can cause over-long lines.  Especially in
<a name="line-152"></a>    footnotes.  Using the LaTeX <span class="nt">&lt;package&gt;</span>breakurl<span class="nt">&lt;/package&gt;</span> package is
<a name="line-153"></a>    one way to solve this.  This can be done with a custom latex
<a name="line-154"></a>    stylesheet.  See <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-custom-latex&quot;</span><span class="nt">/&gt;</span>.<span class="nt">&lt;/para&gt;</span>
<a name="line-155"></a>  <span class="nt">&lt;/section&gt;</span>
<a name="line-156"></a>
<a name="line-157"></a>  <span class="c">&lt;!-- latex-block not yet provided</span>
<a name="line-158"></a><span class="c">  &lt;section&gt;</span>
<a name="line-159"></a><span class="c">    &lt;title&gt;Paragraphs, Lines, and Sentences&lt;/title&gt;</span>
<a name="line-160"></a>
<a name="line-161"></a><span class="c">    &lt;para&gt;Widows and orphans, single (or too few) lines at the top and</span>
<a name="line-162"></a><span class="c">    bottom of pages, can be controlled with the &lt;xref</span>
<a name="line-163"></a><span class="c">    linkend=&quot;latex-block&quot;/&gt; processing instruction.&lt;/para&gt;</span>
<a name="line-164"></a>
<a name="line-165"></a><span class="c">    &lt;para&gt;Lines can grow longer than their normal right-hand boundary.</span>
<a name="line-166"></a><span class="c">    This is generally due to problems with hyphenation.  Hyphenation</span>
<a name="line-167"></a><span class="c">    problems can arise in various ways, e.g. the introduction of</span>
<a name="line-168"></a><span class="c">    hyperlinks which do not hyphenate.  Sometimes hyphenation cannot</span>
<a name="line-169"></a><span class="c">    or should not be changed.  In these situations the &lt;xref</span>
<a name="line-170"></a><span class="c">    linkend=&quot;latex-block&quot;/&gt; processing instruction can be used to</span>
<a name="line-171"></a><span class="c">    prevent poorly formatted lines.  It provides controls which</span>
<a name="line-172"></a><span class="c">    affect, among other things, the placement of line breaks.&lt;/para&gt;</span>
<a name="line-173"></a>
<a name="line-174"></a><span class="c">    &lt;para&gt;The &lt;xref linkend=&quot;latex.frenchspacing&quot;/&gt; parameter controls</span>
<a name="line-175"></a><span class="c">    spacing between sentences.  A &lt;quote&gt;safe&lt;/quote&gt; &lt;xref</span>
<a name="line-176"></a><span class="c">    linkend=&quot;latex&quot;/&gt; processing instruction</span>
<a name="line-177"></a><span class="c">    &lt;parameter&gt;content&lt;/parameter&gt; value can, in some cases, provide</span>
<a name="line-178"></a><span class="c">    control over individual instances of this.&lt;/para&gt;</span>
<a name="line-179"></a><span class="c">  &lt;/section&gt;</span>
<a name="line-180"></a><span class="c">  --&gt;</span>
<a name="line-181"></a>
<a name="line-182"></a>  <span class="nt">&lt;section&gt;</span>
<a name="line-183"></a>    <span class="nt">&lt;title&gt;</span>Characters and Manual Spacing<span class="nt">&lt;/title&gt;</span>
<a name="line-184"></a>
<a name="line-185"></a>    <span class="nt">&lt;para&gt;</span>The <span class="nt">&lt;sgmltag</span> <span class="na">class=</span><span class="s">&quot;xmlpi&quot;</span><span class="nt">&gt;</span>latex<span class="nt">&lt;/sgmltag&gt;</span> processing instruction
<a name="line-186"></a>    may be used to limit character kerning, the joining of pairs of
<a name="line-187"></a>    characters.<span class="nt">&lt;/para&gt;</span>
<a name="line-188"></a>
<a name="line-189"></a>    <span class="nt">&lt;para&gt;</span>The following DocBook entity declarations can be useful to
<a name="line-190"></a>    control spacing. These may be declared in your DocBook
<a name="line-191"></a>    <span class="nt">&lt;code&gt;</span>DTD<span class="nt">&lt;/code&gt;</span> within the trailing pair of square braces
<a name="line-192"></a>    (<span class="nt">&lt;literal&gt;</span>[]<span class="nt">&lt;/literal&gt;</span>) or elsewhere.  Once declared the entities
<a name="line-193"></a>    may be used in your document text.  E.g.
<a name="line-194"></a>    <span class="nt">&lt;literal&gt;</span>Von<span class="ni">&amp;amp;</span>nbsp;Trapp<span class="nt">&lt;/literal&gt;</span> puts a non-breaking space
<a name="line-195"></a>    between <span class="nt">&lt;literal&gt;</span>Von<span class="nt">&lt;/literal&gt;</span> and <span class="nt">&lt;literal&gt;</span>Trapp<span class="nt">&lt;/literal&gt;</span>,
<a name="line-196"></a>    ensuring that these two words will not appear on separate
<a name="line-197"></a>    lines.<span class="nt">&lt;/para&gt;</span>
<a name="line-198"></a>
<a name="line-199"></a>    <span class="nt">&lt;programlisting&gt;</span>
<a name="line-200"></a>  <span class="ni">&amp;lt;</span>!ENTITY nbsp  &quot;<span class="ni">&amp;amp;</span>#x000A0;&quot; <span class="ni">&amp;gt;</span>
<a name="line-201"></a>  <span class="ni">&amp;lt;</span>!ENTITY ensp  &quot;<span class="ni">&amp;amp;</span>#x02002;&quot; <span class="ni">&amp;gt;</span>
<a name="line-202"></a>  <span class="ni">&amp;lt;</span>!ENTITY emsp  &quot;<span class="ni">&amp;amp;</span>#x02003;&quot; <span class="ni">&amp;gt;</span>
<a name="line-203"></a>    <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-204"></a>  <span class="nt">&lt;/section&gt;</span>
<a name="line-205"></a><span class="nt">&lt;/section&gt;</span>
</pre></div>
</td></tr></table></body>
</html>
