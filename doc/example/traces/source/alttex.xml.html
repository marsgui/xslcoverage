<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title>alttex.xml</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="source.css" type="text/css">
</head>
<body>
<h2>alttex.xml</h2>

<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166</pre></div></td><td class="code"><div class="source"><pre><a name="line-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a name="line-2"></a><span class="cp">&lt;!DOCTYPE section PUBLIC &quot;-//OASIS//DTD DocBook XML V4.4//EN&quot;</span>
<a name="line-3"></a><span class="cp">&quot;http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd&quot;&gt;</span>
<a name="line-4"></a><span class="nt">&lt;section</span> <span class="na">output=</span><span class="s">&quot;manual&quot;</span><span class="nt">&gt;</span>
<a name="line-5"></a><span class="nt">&lt;title&gt;</span>Writing LaTeX Mathematical Equations<span class="nt">&lt;/title&gt;</span>
<a name="line-6"></a>
<a name="line-7"></a><span class="nt">&lt;section&gt;</span>
<a name="line-8"></a><span class="nt">&lt;title&gt;</span>Presentation<span class="nt">&lt;/title&gt;</span>
<a name="line-9"></a>
<a name="line-10"></a><span class="nt">&lt;para&gt;</span>DocBook doesn&#39;t define elements for writing mathematical equations. Only
<a name="line-11"></a>few elements exist that tell how equation should be displayed (inlined,
<a name="line-12"></a>block):<span class="nt">&lt;/para&gt;</span>
<a name="line-13"></a>
<a name="line-14"></a><span class="nt">&lt;itemizedlist&gt;</span>
<a name="line-15"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-16"></a><span class="nt">&lt;para&gt;&lt;sgmltag&gt;</span>inlineequation<span class="nt">&lt;/sgmltag&gt;</span> tells that the equation is
<a name="line-17"></a>inlined,<span class="nt">&lt;/para&gt;</span>
<a name="line-18"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-19"></a>
<a name="line-20"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-21"></a><span class="nt">&lt;para&gt;&lt;sgmltag&gt;</span>informalequation<span class="nt">&lt;/sgmltag&gt;</span> tells that the equation is displayed
<a name="line-22"></a>as a block, without a title.<span class="nt">&lt;/para&gt;</span>
<a name="line-23"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-24"></a>
<a name="line-25"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-26"></a><span class="nt">&lt;para&gt;&lt;sgmltag&gt;</span>equation<span class="nt">&lt;/sgmltag&gt;</span> tells that the equation is displayed as a
<a name="line-27"></a>block, with or without a title.<span class="nt">&lt;/para&gt;</span>
<a name="line-28"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-29"></a><span class="nt">&lt;/itemizedlist&gt;</span>
<a name="line-30"></a>
<a name="line-31"></a><span class="nt">&lt;para&gt;</span>These tags include a graphic (<span class="nt">&lt;sgmltag&gt;</span>graphic<span class="nt">&lt;/sgmltag&gt;</span> or
<a name="line-32"></a><span class="nt">&lt;sgmltag&gt;</span>mediaobject<span class="nt">&lt;/sgmltag&gt;</span>) or an alternative text equation, as shown by
<a name="line-33"></a>the example.<span class="nt">&lt;/para&gt;</span>
<a name="line-34"></a>
<a name="line-35"></a><span class="nt">&lt;example&gt;</span>
<a name="line-36"></a><span class="nt">&lt;title&gt;</span>Equation taken from TDG<span class="nt">&lt;/title&gt;</span>
<a name="line-37"></a>
<a name="line-38"></a><span class="nt">&lt;programlisting&gt;</span>
<a name="line-39"></a><span class="ni">&amp;lt;</span>equation<span class="ni">&amp;gt;&amp;lt;</span>title<span class="ni">&amp;gt;</span>Last Theorem of Fermat<span class="ni">&amp;lt;</span>/title<span class="ni">&amp;gt;</span> 
<a name="line-40"></a>  <span class="ni">&amp;lt;</span>alt<span class="ni">&amp;gt;</span>x^n + y^n <span class="ni">&amp;amp;</span>ne; z^n <span class="ni">&amp;amp;</span>forall; n <span class="ni">&amp;amp;</span>ne; 2<span class="ni">&amp;lt;</span>/alt<span class="ni">&amp;gt;</span>
<a name="line-41"></a>  <span class="ni">&amp;lt;</span>graphic fileref=&quot;figures/fermat&quot;<span class="ni">&amp;gt;&amp;lt;</span>/graphic<span class="ni">&amp;gt;</span>
<a name="line-42"></a><span class="ni">&amp;lt;</span>/equation<span class="ni">&amp;gt;</span>
<a name="line-43"></a>   <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-44"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-45"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-46"></a>
<a name="line-47"></a><span class="nt">&lt;section&gt;</span>
<a name="line-48"></a><span class="nt">&lt;title&gt;</span>Implementation choice<span class="nt">&lt;/title&gt;</span>
<a name="line-49"></a>
<a name="line-50"></a><span class="nt">&lt;para&gt;</span>The principle is to use only the <span class="nt">&lt;sgmltag&gt;</span>alt<span class="nt">&lt;/sgmltag&gt;</span> element. If
<a name="line-51"></a>initially <span class="nt">&lt;sgmltag&gt;</span>alt<span class="nt">&lt;/sgmltag&gt;</span> contains actually the text to print, it is
<a name="line-52"></a>chosen to use this element to embed LaTeX mathematical equations. This choice
<a name="line-53"></a>has the following advantages:<span class="nt">&lt;/para&gt;</span>
<a name="line-54"></a>
<a name="line-55"></a><span class="nt">&lt;itemizedlist&gt;</span>
<a name="line-56"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-57"></a><span class="nt">&lt;para&gt;</span>The translation done by dblatex is really easy, since the equation is
<a name="line-58"></a>already written in LaTeX.<span class="nt">&lt;/para&gt;</span>
<a name="line-59"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-60"></a>
<a name="line-61"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-62"></a><span class="nt">&lt;para&gt;</span>LaTeX is one of the best word processor to render mathematical
<a name="line-63"></a>formulas.<span class="nt">&lt;/para&gt;</span>
<a name="line-64"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-65"></a>
<a name="line-66"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-67"></a><span class="nt">&lt;para&gt;</span>One doesn&#39;t need to write the equations in MathML.<span class="nt">&lt;/para&gt;</span>
<a name="line-68"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-69"></a>
<a name="line-70"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-71"></a><span class="nt">&lt;para&gt;</span>This method isn&#39;t specific to this tool (see the following
<a name="line-72"></a>section).<span class="nt">&lt;/para&gt;</span>
<a name="line-73"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-74"></a><span class="nt">&lt;/itemizedlist&gt;</span>
<a name="line-75"></a>
<a name="line-76"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-77"></a>
<a name="line-78"></a><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-alttex-delimiters&quot;</span><span class="nt">&gt;</span>
<a name="line-79"></a><span class="nt">&lt;title&gt;</span>Mathematical Delimiters<span class="nt">&lt;/title&gt;</span>
<a name="line-80"></a>
<a name="line-81"></a><span class="nt">&lt;para&gt;</span>The dblatex implementation is as light as possible. This is why it is
<a name="line-82"></a>up to the writer to properly use the mathematical delimiters ($, \(, \), \[,
<a name="line-83"></a>\]). By this way the writer fully controls how he writes equations.<span class="nt">&lt;/para&gt;</span>
<a name="line-84"></a>
<a name="line-85"></a><span class="nt">&lt;para</span> <span class="na">id=</span><span class="s">&quot;pi-texmath-user&quot;</span><span class="nt">&gt;</span>By default <span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> checks that
<a name="line-86"></a>consistent mathematical
<a name="line-87"></a>delimiters or environment are used in <span class="nt">&lt;sgmltag&gt;</span>alt<span class="nt">&lt;/sgmltag&gt;</span> and it inserts the
<a name="line-88"></a>default math mode delimiters if dblatex thinks they are missing, but
<a name="line-89"></a>you can ask dblatex to write directly the <span class="nt">&lt;sgmltag&gt;</span>alt<span class="nt">&lt;/sgmltag&gt;</span> content 
<a name="line-90"></a>without any action. To do this, use the <span class="nt">&lt;literal&gt;</span>texmath<span class="nt">&lt;/literal&gt;</span> Processing 
<a name="line-91"></a>Instruction with <span class="nt">&lt;literal&gt;</span>delimiters<span class="nt">&lt;/literal&gt;</span> set to &#39;user&#39;.<span class="nt">&lt;/para&gt;</span>
<a name="line-92"></a>
<a name="line-93"></a><span class="nt">&lt;para&gt;</span>For example, <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;eq-with-texmath-pi&quot;</span><span class="nt">/&gt;</span> has user specific
<a name="line-94"></a>delimiters:<span class="nt">&lt;/para&gt;</span>
<a name="line-95"></a>
<a name="line-96"></a><span class="nt">&lt;example</span> <span class="na">id=</span><span class="s">&quot;eq-with-texmath-pi&quot;</span><span class="nt">&gt;</span>
<a name="line-97"></a><span class="nt">&lt;title&gt;</span>Equation with user delimiters<span class="nt">&lt;/title&gt;</span>
<a name="line-98"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg5.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span><span class="nt">/&gt;</span>
<a name="line-99"></a><span class="nt">&lt;para&gt;</span>In the XML source this equation uses a specific <span class="nt">&lt;literal&gt;</span>align*<span class="nt">&lt;/literal&gt;</span> environment and the <span class="nt">&lt;literal&gt;</span>texmath<span class="nt">&lt;/literal&gt;</span> PI to let the equation as is:<span class="nt">&lt;/para&gt;</span>
<a name="line-100"></a><span class="nt">&lt;programlisting&gt;</span>
<a name="line-101"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg5.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span>
<a name="line-102"></a>            <span class="na">parse=</span><span class="s">&quot;text&quot;</span><span class="nt">/&gt;</span> <span class="nt">&lt;/programlisting&gt;</span>
<a name="line-103"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-104"></a>
<a name="line-105"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-106"></a>
<a name="line-107"></a><span class="nt">&lt;section&gt;</span>
<a name="line-108"></a><span class="nt">&lt;title&gt;</span>Compatibility<span class="nt">&lt;/title&gt;</span>
<a name="line-109"></a>
<a name="line-110"></a><span class="nt">&lt;para&gt;</span>This implementation is not contradictory nor specific. In particular,
<a name="line-111"></a>the <span class="nt">&lt;ulink</span>
<a name="line-112"></a><span class="na">url=</span><span class="s">&quot;http://ricardo.ecn.wfu.edu/~cottrell/dbtexmath/&quot;</span><span class="nt">&gt;</span>DBTeXMath<span class="nt">&lt;/ulink&gt;</span>
<a name="line-113"></a>proposal to extend the DSSSL stylesheets used by jade follows the same
<a name="line-114"></a>approach, and is integrated in the Norman Walsh XSL stylesheets.<span class="nt">&lt;/para&gt;</span>
<a name="line-115"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-116"></a>
<a name="line-117"></a><span class="nt">&lt;section&gt;</span>
<a name="line-118"></a><span class="nt">&lt;title&gt;</span>Examples<span class="nt">&lt;/title&gt;</span>
<a name="line-119"></a>
<a name="line-120"></a><span class="nt">&lt;para&gt;</span>The following examples show how to write the equations.<span class="nt">&lt;/para&gt;</span>
<a name="line-121"></a>
<a name="line-122"></a><span class="nt">&lt;example&gt;</span>
<a name="line-123"></a><span class="nt">&lt;title&gt;</span>Inlined Equation<span class="nt">&lt;/title&gt;</span>
<a name="line-124"></a>
<a name="line-125"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg1.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span><span class="nt">/&gt;</span>
<a name="line-126"></a>
<a name="line-127"></a><span class="nt">&lt;programlisting&gt;</span>
<a name="line-128"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg1.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span>
<a name="line-129"></a>            <span class="na">parse=</span><span class="s">&quot;text&quot;</span><span class="nt">/&gt;</span>
<a name="line-130"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-131"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-132"></a>
<a name="line-133"></a><span class="nt">&lt;example&gt;</span>
<a name="line-134"></a><span class="nt">&lt;title&gt;</span>Equation in a block<span class="nt">&lt;/title&gt;</span>
<a name="line-135"></a>
<a name="line-136"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg2.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span><span class="nt">/&gt;</span>
<a name="line-137"></a>
<a name="line-138"></a><span class="nt">&lt;programlisting&gt;</span>
<a name="line-139"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg2.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span>
<a name="line-140"></a>            <span class="na">parse=</span><span class="s">&quot;text&quot;</span><span class="nt">/&gt;</span>
<a name="line-141"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-142"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-143"></a>
<a name="line-144"></a><span class="nt">&lt;example&gt;</span>
<a name="line-145"></a><span class="nt">&lt;title&gt;</span>Equation in a float<span class="nt">&lt;/title&gt;</span>
<a name="line-146"></a>
<a name="line-147"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg3.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span><span class="nt">/&gt;</span>
<a name="line-148"></a>
<a name="line-149"></a><span class="nt">&lt;programlisting&gt;</span>
<a name="line-150"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg3.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span>
<a name="line-151"></a>            <span class="na">parse=</span><span class="s">&quot;text&quot;</span><span class="nt">/&gt;</span>
<a name="line-152"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-153"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-154"></a>
<a name="line-155"></a><span class="nt">&lt;example&gt;</span>
<a name="line-156"></a><span class="nt">&lt;title&gt;</span>Equation without a title<span class="nt">&lt;/title&gt;</span>
<a name="line-157"></a>
<a name="line-158"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg4.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span><span class="nt">/&gt;</span>
<a name="line-159"></a>
<a name="line-160"></a><span class="nt">&lt;programlisting&gt;</span>
<a name="line-161"></a><span class="nt">&lt;xi:include</span> <span class="na">href=</span><span class="s">&quot;equation-eg4.xml&quot;</span> <span class="na">xmlns:xi=</span><span class="s">&quot;http://www.w3.org/2001/XInclude&quot;</span>
<a name="line-162"></a>            <span class="na">parse=</span><span class="s">&quot;text&quot;</span><span class="nt">/&gt;</span>
<a name="line-163"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-164"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-165"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-166"></a><span class="nt">&lt;/section&gt;</span>
</pre></div>
</td></tr></table></body>
</html>
