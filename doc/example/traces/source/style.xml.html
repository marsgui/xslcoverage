<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title>style.xml</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="source.css" type="text/css">
</head>
<body>
<h2>style.xml</h2>

<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150</pre></div></td><td class="code"><div class="source"><pre><a name="line-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot;?&gt;</span>
<a name="line-2"></a><span class="cp">&lt;!DOCTYPE section PUBLIC &quot;-//OASIS//DTD DocBook XML V4.4//EN&quot;</span>
<a name="line-3"></a><span class="cp">&quot;http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd&quot;&gt;</span>
<a name="line-4"></a><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-style&quot;</span><span class="nt">&gt;&lt;title&gt;</span>Output Formatting Style<span class="nt">&lt;/title&gt;</span>
<a name="line-5"></a><span class="nt">&lt;para&gt;</span>The output rendering done by <span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> can be widely
<a name="line-6"></a>customized like explained in <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-custom&quot;</span><span class="nt">/&gt;</span>. By default several
<a name="line-7"></a>rendering styles are provided, that one can choose by using the option
<a name="line-8"></a><span class="nt">&lt;option&gt;</span>-T<span class="nt">&lt;/option&gt;</span> (see <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;eg-style&quot;</span><span class="nt">/&gt;</span>). The available styles are:<span class="nt">&lt;/para&gt;</span>
<a name="line-9"></a><span class="nt">&lt;variablelist&gt;</span>
<a name="line-10"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;</span>native<span class="nt">&lt;/term&gt;</span>
<a name="line-11"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-12"></a><span class="nt">&lt;para&gt;</span>The rendering uses the default LaTeX stylesheets. It is the style used by
<a name="line-13"></a>default if dblatex has been configured without using the option
<a name="line-14"></a><span class="nt">&lt;option&gt;</span>--style<span class="nt">&lt;/option&gt;</span>.<span class="nt">&lt;/para&gt;</span>
<a name="line-15"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-16"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-17"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;</span>simple<span class="nt">&lt;/term&gt;</span>
<a name="line-18"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-19"></a><span class="nt">&lt;para&gt;</span>The rendering is very close to original latex rendering. The wrapper
<a name="line-20"></a>around the default latex packages is very thin.<span class="nt">&lt;/para&gt;</span>
<a name="line-21"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-22"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-23"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;</span>db2latex<span class="nt">&lt;/term&gt;</span>
<a name="line-24"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-25"></a><span class="nt">&lt;para&gt;</span>The rendering tries to be as close as possible to the
<a name="line-26"></a><span class="nt">&lt;ulink</span> <span class="na">url=</span><span class="s">&quot;http://db2latex.sourceforge.net&quot;</span><span class="nt">&gt;</span>DB2LaTeX<span class="nt">&lt;/ulink&gt;</span> formatting.<span class="nt">&lt;/para&gt;</span>
<a name="line-27"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-28"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-29"></a><span class="nt">&lt;/variablelist&gt;</span>
<a name="line-30"></a><span class="nt">&lt;example</span> <span class="na">id=</span><span class="s">&quot;eg-style&quot;</span><span class="nt">&gt;&lt;title&gt;</span>Choosing the DB2LaTeX style<span class="nt">&lt;/title&gt;</span>
<a name="line-31"></a><span class="nt">&lt;programlisting&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-32"></a><span class="cp">dblatex -T db2latex file.xml</span>
<a name="line-33"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-34"></a><span class="nt">&lt;/example&gt;</span>
<a name="line-35"></a><span class="nt">&lt;section&gt;&lt;title&gt;</span>How it works<span class="nt">&lt;/title&gt;</span>
<a name="line-36"></a><span class="nt">&lt;para&gt;</span>The rendering style stuff is under the <span class="nt">&lt;filename&gt;</span>latex/<span class="nt">&lt;/filename&gt;</span>
<a name="line-37"></a>directory. You can see the XSL stylesheets under <span class="nt">&lt;filename&gt;</span>xsl/<span class="nt">&lt;/filename&gt;</span>
<a name="line-38"></a>as the way to produce latex with as little as possible docbook specific things
<a name="line-39"></a>(even if a large amount of latex packages are used to do the work). Then, it&#39;s
<a name="line-40"></a>up to LaTeX stylesheets to format the document as you wish.<span class="nt">&lt;/para&gt;</span>
<a name="line-41"></a><span class="nt">&lt;para&gt;</span>The organization under <span class="nt">&lt;filename&gt;</span>latex/<span class="nt">&lt;/filename&gt;</span> is as follow:<span class="nt">&lt;/para&gt;</span>
<a name="line-42"></a><span class="nt">&lt;variablelist&gt;</span>
<a name="line-43"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;&lt;filename&gt;</span>contrib<span class="nt">&lt;/filename&gt;&lt;/term&gt;</span>
<a name="line-44"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-45"></a><span class="nt">&lt;para&gt;</span>Contains the non-default available LaTeX stylesheets (simple and db2latex).
<a name="line-46"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-47"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-48"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-49"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;&lt;filename&gt;</span>graphics<span class="nt">&lt;/filename&gt;&lt;/term&gt;</span>
<a name="line-50"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-51"></a><span class="nt">&lt;para&gt;</span>Default graphics used in the admonitions (e.g. <span class="nt">&lt;sgmltag&gt;</span>warning<span class="nt">&lt;/sgmltag&gt;</span>).
<a name="line-52"></a>These graphics are used by the default output formatting.
<a name="line-53"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-54"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-55"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-56"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;&lt;filename&gt;</span>scripts<span class="nt">&lt;/filename&gt;&lt;/term&gt;</span>
<a name="line-57"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-58"></a><span class="nt">&lt;para&gt;</span>Scripts used to compile with <span class="nt">&lt;command&gt;</span>latex<span class="nt">&lt;/command&gt;</span> or
<a name="line-59"></a><span class="nt">&lt;command&gt;</span>pdflatex<span class="nt">&lt;/command&gt;</span>.
<a name="line-60"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-61"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-62"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-63"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;&lt;filename&gt;</span>specs<span class="nt">&lt;/filename&gt;&lt;/term&gt;</span>
<a name="line-64"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-65"></a><span class="nt">&lt;para&gt;</span>Contains all the configuration files describing the available styles.
<a name="line-66"></a>A specification file must have the extension .specs, .conf, or .xml to be
<a name="line-67"></a>detected as a style description, and its basename is the name of the style.
<a name="line-68"></a>For example the style db2latex is described by the configuration file
<a name="line-69"></a><span class="nt">&lt;filename&gt;</span>db2latex.xml<span class="nt">&lt;/filename&gt;</span>.
<a name="line-70"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-71"></a><span class="nt">&lt;para&gt;</span>When <span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> is executed with no parameter, the usage
<a name="line-72"></a>is displayed. In particular, the list of the available styles is given, like
<a name="line-73"></a>this:
<a name="line-74"></a><span class="nt">&lt;programlisting&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-75"></a><span class="cp">$ dblatex</span>
<a name="line-76"></a><span class="cp">dblatex [options] file.{sgml|xml}</span>
<a name="line-77"></a><span class="cp">Options:</span>
<a name="line-78"></a><span class="cp">-t {pdf|ps|dvi|tex|xml}: output format</span>
<a name="line-79"></a><span class="cp">...</span>
<a name="line-80"></a><span class="cp">-T style               : available latex styles (db2latex, native, simple)</span>
<a name="line-81"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-82"></a>The list is built by scanning the specs files found under
<a name="line-83"></a><span class="nt">&lt;filename&gt;</span>specs/<span class="nt">&lt;/filename&gt;</span>. The spec file syntax is described in <span class="nt">&lt;xref</span>
<a name="line-84"></a><span class="na">linkend=</span><span class="s">&quot;sec-specs&quot;</span><span class="nt">/&gt;</span>.
<a name="line-85"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-86"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-87"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-88"></a><span class="nt">&lt;varlistentry&gt;&lt;term&gt;&lt;filename&gt;</span>style<span class="nt">&lt;/filename&gt;&lt;/term&gt;</span>
<a name="line-89"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-90"></a><span class="nt">&lt;para&gt;</span>Default LaTeX stylesheets.<span class="nt">&lt;/para&gt;</span>
<a name="line-91"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-92"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-93"></a><span class="nt">&lt;/variablelist&gt;</span>
<a name="line-94"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-95"></a><span class="nt">&lt;section&gt;&lt;title&gt;</span>Adding a New Formatting Style<span class="nt">&lt;/title&gt;</span>
<a name="line-96"></a><span class="nt">&lt;para&gt;</span>To add a new formatting style, do the following steps:<span class="nt">&lt;/para&gt;</span>
<a name="line-97"></a><span class="nt">&lt;procedure&gt;</span>
<a name="line-98"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>Let&#39;s create the style directories that will contain all the
<a name="line-99"></a>specific data. We choose to put them under the default
<a name="line-100"></a><span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> user configuration directory.<span class="nt">&lt;/para&gt;</span>
<a name="line-101"></a><span class="nt">&lt;programlisting&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-102"></a><span class="cp">$ mkdir -p $HOME/.dblatex/mystyle/latex</span>
<a name="line-103"></a><span class="cp">$ mkdir -p $HOME/.dblatex/mystyle/xsl</span>
<a name="line-104"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-105"></a><span class="nt">&lt;para&gt;</span>Note that you could choose another configuration directory (see <span class="nt">&lt;xref</span>
<a name="line-106"></a><span class="na">linkend=</span><span class="s">&quot;sec-conf-path&quot;</span><span class="nt">/&gt;</span> for more details).<span class="nt">&lt;/para&gt;</span>
<a name="line-107"></a><span class="nt">&lt;/step&gt;</span>
<a name="line-108"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>Create the latex stylesheets you need. It must define the expected
<a name="line-109"></a>DocBook interface and include some core definitions from the default latex
<a name="line-110"></a>stylesheets (cf. <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-custom-latex&quot;</span><span class="nt">/&gt;</span>). Create also your XSL
<a name="line-111"></a>stylesheet if necessary.<span class="nt">&lt;/para&gt;&lt;/step&gt;</span>
<a name="line-112"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>Put these files under the appropriate directories:<span class="nt">&lt;/para&gt;</span>
<a name="line-113"></a><span class="nt">&lt;programlisting&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-114"></a><span class="cp">$ mv mytexstyle.sty $HOME/.dblatex/mystyle/latex/.</span>
<a name="line-115"></a><span class="cp">$ mv param.xsl $HOME/.dblatex/mystyle/xsl/.</span>
<a name="line-116"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-117"></a><span class="nt">&lt;/step&gt;</span>
<a name="line-118"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>Create a configuration file under the directory
<a name="line-119"></a><span class="nt">&lt;filename&gt;</span>$HOME/.dblatex<span class="nt">&lt;/filename&gt;</span>. The configuration file must point to the
<a name="line-120"></a>new latex stylesheet, and give the specific parameters. Example:<span class="nt">&lt;/para&gt;</span>
<a name="line-121"></a><span class="nt">&lt;programlisting&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-122"></a><span class="cp">$ cat $HOME/.dblatex/mystyle.conf</span>
<a name="line-123"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<a name="line-124"></a><span class="cp">&lt;!-- =======================================================</span>
<a name="line-125"></a><span class="cp">     Dblatex config file for my new style.</span>
<a name="line-126"></a><span class="cp">     Note that the directories are relative to mystyle.conf</span>
<a name="line-127"></a><span class="cp">     ======================================================= --&gt;</span>
<a name="line-128"></a><span class="cp">&lt;config xmlns=&quot;http://dblatex.sourceforge.net/config&quot;&gt;</span>
<a name="line-129"></a><span class="cp">  &lt;latex&gt;</span>
<a name="line-130"></a><span class="cp">    &lt;texinputs&gt;mystyle/latex//&lt;/texinputs&gt;</span>
<a name="line-131"></a><span class="cp">    &lt;texstyle use=&quot;mytexstyle&quot;/&gt;</span>
<a name="line-132"></a><span class="cp">  &lt;/latex&gt;</span>
<a name="line-133"></a><span class="cp">  &lt;xslt&gt;</span>
<a name="line-134"></a><span class="cp">    &lt;stylesheet fileref=&quot;mystyle/xsl/param.xsl&quot;/&gt;</span>
<a name="line-135"></a><span class="cp">  &lt;/xslt&gt;</span>
<a name="line-136"></a><span class="cp">  &lt;options&gt;-f fig&lt;/options&gt;</span>
<a name="line-137"></a><span class="cp">&lt;/config&gt;</span>
<a name="line-138"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-139"></a><span class="nt">&lt;/step&gt;</span>
<a name="line-140"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>That&#39;s it. Try to compile your document with your style, and check
<a name="line-141"></a>the output. The configuration file basename is the name of the style to
<a name="line-142"></a>call.<span class="nt">&lt;/para&gt;</span>
<a name="line-143"></a><span class="nt">&lt;programlisting&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-144"></a><span class="cp">$ dblatex -T mystyle file.xml</span>
<a name="line-145"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-146"></a><span class="nt">&lt;/step&gt;</span>
<a name="line-147"></a><span class="nt">&lt;/procedure&gt;</span>
<a name="line-148"></a>
<a name="line-149"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-150"></a><span class="nt">&lt;/section&gt;</span>
</pre></div>
</td></tr></table></body>
</html>
