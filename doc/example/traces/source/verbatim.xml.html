<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title>verbatim.xml</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <link rel="stylesheet" href="source.css" type="text/css">
</head>
<body>
<h2>verbatim.xml</h2>

<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre>  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
 11
 12
 13
 14
 15
 16
 17
 18
 19
 20
 21
 22
 23
 24
 25
 26
 27
 28
 29
 30
 31
 32
 33
 34
 35
 36
 37
 38
 39
 40
 41
 42
 43
 44
 45
 46
 47
 48
 49
 50
 51
 52
 53
 54
 55
 56
 57
 58
 59
 60
 61
 62
 63
 64
 65
 66
 67
 68
 69
 70
 71
 72
 73
 74
 75
 76
 77
 78
 79
 80
 81
 82
 83
 84
 85
 86
 87
 88
 89
 90
 91
 92
 93
 94
 95
 96
 97
 98
 99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262</pre></div></td><td class="code"><div class="source"><pre><a name="line-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<a name="line-2"></a><span class="cp">&lt;!DOCTYPE section PUBLIC &quot;-//OASIS//DTD DocBook XML V4.4//EN&quot;</span>
<a name="line-3"></a><span class="cp">&quot;http://www.oasis-open.org/docbook/xml/4.4/docbookx.dtd&quot;&gt;</span>
<a name="line-4"></a><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-verbatim&quot;</span><span class="nt">&gt;</span>
<a name="line-5"></a><span class="nt">&lt;title&gt;</span>Extending the Verbatim Rendering<span class="nt">&lt;/title&gt;</span>
<a name="line-6"></a>
<a name="line-7"></a><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-literal-options&quot;</span><span class="nt">&gt;</span>
<a name="line-8"></a><span class="nt">&lt;title&gt;</span>Dblatex Specific Options<span class="nt">&lt;/title&gt;</span>
<a name="line-9"></a>
<a name="line-10"></a><span class="nt">&lt;para&gt;</span>There are few attributes or options specific to
<a name="line-11"></a><span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> to render verbatim blocks:<span class="nt">&lt;/para&gt;</span>
<a name="line-12"></a>
<a name="line-13"></a><span class="nt">&lt;itemizedlist&gt;</span>
<a name="line-14"></a><span class="nt">&lt;listitem&gt;&lt;para&gt;</span>The <span class="nt">&lt;sgmltag&gt;</span>role<span class="nt">&lt;/sgmltag&gt;</span> attribute of
<a name="line-15"></a><span class="nt">&lt;sgmltag&gt;</span>screen<span class="nt">&lt;/sgmltag&gt;</span>, <span class="nt">&lt;sgmltag&gt;</span>programlisting<span class="nt">&lt;/sgmltag&gt;</span>, and
<a name="line-16"></a><span class="nt">&lt;sgmltag&gt;</span>literallayout<span class="nt">&lt;/sgmltag&gt;</span> can take the following special values:
<a name="line-17"></a>
<a name="line-18"></a><span class="nt">&lt;variablelist&gt;</span>
<a name="line-19"></a><span class="nt">&lt;varlistentry&gt;</span>
<a name="line-20"></a><span class="nt">&lt;term&gt;</span>wrap<span class="nt">&lt;/term&gt;</span>
<a name="line-21"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-22"></a><span class="nt">&lt;para&gt;</span>The verbatim lines can break and wrap when they are longer than the
<a name="line-23"></a>available width. It is the default behaviour.<span class="nt">&lt;/para&gt;</span>
<a name="line-24"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-25"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-26"></a><span class="nt">&lt;varlistentry&gt;</span>
<a name="line-27"></a><span class="nt">&lt;term&gt;</span>overflow<span class="nt">&lt;/term&gt;</span>
<a name="line-28"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-29"></a><span class="nt">&lt;para&gt;</span>The verbatim lines never break and go into the margin when they are too
<a name="line-30"></a>long.<span class="nt">&lt;/para&gt;</span>
<a name="line-31"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-32"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-33"></a><span class="nt">&lt;varlistentry&gt;</span>
<a name="line-34"></a><span class="nt">&lt;term&gt;</span>scale<span class="nt">&lt;/term&gt;</span>
<a name="line-35"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-36"></a><span class="nt">&lt;para&gt;</span>The verbatim block is automatically scaled so that the longest line or
<a name="line-37"></a>specified column count
<a name="line-38"></a>fits in the available page width. See <span class="nt">&lt;xref</span> <span class="na">linkend=</span><span class="s">&quot;sec-scale-verbatim&quot;</span><span class="nt">/&gt;</span>.
<a name="line-39"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-40"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-41"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-42"></a><span class="nt">&lt;/variablelist&gt;</span>
<a name="line-43"></a>
<a name="line-44"></a><span class="nt">&lt;/para&gt;&lt;/listitem&gt;</span>
<a name="line-45"></a>
<a name="line-46"></a><span class="nt">&lt;listitem&gt;&lt;para&gt;</span>The parameter <span class="nt">&lt;parameter&gt;</span>literal.role<span class="nt">&lt;/parameter&gt;</span> can be used
<a name="line-47"></a>to set the default role to apply. By default the value is an empty string.
<a name="line-48"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-49"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-50"></a>
<a name="line-51"></a><span class="nt">&lt;listitem&gt;&lt;para&gt;</span>The parameter <span class="nt">&lt;parameter&gt;</span>literal.class<span class="nt">&lt;/parameter&gt;</span> can be used
<a name="line-52"></a>to set the default <span class="nt">&lt;parameter&gt;</span>literallayout<span class="nt">&lt;/parameter&gt;</span> class when
<a name="line-53"></a>no class attribute is given. By default the value is
<a name="line-54"></a><span class="nt">&lt;literal&gt;</span>monospaced<span class="nt">&lt;/literal&gt;</span>.<span class="nt">&lt;/para&gt;&lt;/listitem&gt;</span>
<a name="line-55"></a><span class="nt">&lt;/itemizedlist&gt;</span>
<a name="line-56"></a>
<a name="line-57"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-58"></a><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-scale-verbatim&quot;</span><span class="nt">&gt;</span>
<a name="line-59"></a><span class="nt">&lt;title&gt;</span>Scaling Feature<span class="nt">&lt;/title&gt;</span>
<a name="line-60"></a>
<a name="line-61"></a><span class="nt">&lt;para&gt;</span>The user can scale the verbatim block so that the longest line fits in 
<a name="line-62"></a>the available page width, or so that the page contains at least a specified width expressed in columns.<span class="nt">&lt;/para&gt;</span>
<a name="line-63"></a>
<a name="line-64"></a><span class="nt">&lt;para&gt;</span>The scaling feature is enabled when the parameter <span class="nt">&lt;parameter&gt;</span>literal.extensions<span class="nt">&lt;/parameter&gt;</span> is set as follow:
<a name="line-65"></a>
<a name="line-66"></a><span class="nt">&lt;variablelist&gt;</span>
<a name="line-67"></a><span class="nt">&lt;varlistentry&gt;</span>
<a name="line-68"></a><span class="nt">&lt;term&gt;</span>scale<span class="nt">&lt;/term&gt;</span>
<a name="line-69"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-70"></a><span class="nt">&lt;para&gt;</span>The scaling is performed only when the <span class="nt">&lt;sgmltag&gt;</span>role<span class="nt">&lt;/sgmltag&gt;</span> attribute
<a name="line-71"></a>is set to &quot;scale&quot;, or when the <span class="nt">&lt;sgmltag&gt;</span>role<span class="nt">&lt;/sgmltag&gt;</span> attribute is not set and the parameter <span class="nt">&lt;parameter&gt;</span>literal.role<span class="nt">&lt;/parameter&gt;</span> is set to &quot;scale&quot;.<span class="nt">&lt;/para&gt;</span>
<a name="line-72"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-73"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-74"></a><span class="nt">&lt;varlistentry&gt;</span>
<a name="line-75"></a><span class="nt">&lt;term&gt;</span>scale.by.width<span class="nt">&lt;/term&gt;</span>
<a name="line-76"></a><span class="nt">&lt;listitem&gt;</span>
<a name="line-77"></a><span class="nt">&lt;para&gt;</span>The scaling is performed when the <span class="nt">&lt;sgmltag&gt;</span>role<span class="nt">&lt;/sgmltag&gt;</span> attribute
<a name="line-78"></a>or <span class="nt">&lt;parameter&gt;</span>literal.role<span class="nt">&lt;/parameter&gt;</span> is properly set, or when the attribute
<a name="line-79"></a><span class="nt">&lt;sgmltag&gt;</span>width<span class="nt">&lt;/sgmltag&gt;</span> is set. When width is set the block is scaled so that
<a name="line-80"></a>the specified width fits in the page width.<span class="nt">&lt;/para&gt;</span>
<a name="line-81"></a><span class="nt">&lt;/listitem&gt;</span>
<a name="line-82"></a><span class="nt">&lt;/varlistentry&gt;</span>
<a name="line-83"></a><span class="nt">&lt;/variablelist&gt;</span>
<a name="line-84"></a><span class="nt">&lt;/para&gt;</span>
<a name="line-85"></a>
<a name="line-86"></a><span class="nt">&lt;para&gt;</span>Here are some listing examples with several attribute combinations producing or not the scaling. In these examples the parameter <span class="nt">&lt;parameter&gt;</span>literal.extensions<span class="nt">&lt;/parameter&gt;</span> is set to &quot;scale.by.width&quot;.<span class="nt">&lt;/para&gt;</span>
<a name="line-87"></a>
<a name="line-88"></a><span class="nt">&lt;programlisting</span> <span class="na">width=</span><span class="s">&quot;110&quot;</span><span class="nt">&gt;</span>
<a name="line-89"></a><span class="cp">&lt;![CDATA[&lt;programlisting width=&quot;110&quot;&gt;</span>
<a name="line-90"></a><span class="cp">The listing is scaled and lines are wrapped after 110 characters. Check yourself: </span>
<a name="line-91"></a>
<a name="line-92"></a><span class="cp">123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 1234567 9 123456789</span>
<a name="line-93"></a><span class="cp">0         1         2         3         4         5         6         7         8         9         10        11       </span>
<a name="line-94"></a>
<a name="line-95"></a><span class="cp">&lt;/programlisting&gt;]]&gt;</span>
<a name="line-96"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-97"></a>
<a name="line-98"></a><span class="nt">&lt;programlisting</span> <span class="na">width=</span><span class="s">&quot;110&quot;</span> <span class="na">role=</span><span class="s">&quot;overflow&quot;</span><span class="nt">&gt;</span>
<a name="line-99"></a><span class="cp">&lt;![CDATA[&lt;programlisting width=&quot;110&quot; role=&quot;overflow&quot;&gt;</span>
<a name="line-100"></a><span class="cp">There is no scaling because the role has precedence over the width attribute:</span>
<a name="line-101"></a><span class="cp">                                                                                                            </span>
<a name="line-102"></a><span class="cp">123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 1234567 9 123456789</span>
<a name="line-103"></a><span class="cp">0         1         2         3         4         5         6         7         8         9         10        11       </span>
<a name="line-104"></a>
<a name="line-105"></a><span class="cp">&lt;/programlisting&gt;]]&gt;</span>
<a name="line-106"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-107"></a>
<a name="line-108"></a><span class="nt">&lt;programlisting</span> <span class="na">role=</span><span class="s">&quot;scale&quot;</span><span class="nt">&gt;</span>
<a name="line-109"></a><span class="cp">&lt;![CDATA[&lt;programlisting role=&quot;scale&quot;&gt;</span>
<a name="line-110"></a><span class="cp">The listing is scaled to display the longest line with no break:</span>
<a name="line-111"></a><span class="cp">                                                                                                            </span>
<a name="line-112"></a><span class="cp">123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 1234567 9 123456789</span>
<a name="line-113"></a><span class="cp">0         1         2         3         4         5         6         7         8         9         10        11       </span>
<a name="line-114"></a>
<a name="line-115"></a><span class="cp">&lt;/programlisting&gt;]]&gt;</span>
<a name="line-116"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-117"></a>
<a name="line-118"></a><span class="nt">&lt;programlisting</span> <span class="na">width=</span><span class="s">&quot;110&quot;</span> <span class="na">role=</span><span class="s">&quot;scale&quot;</span><span class="nt">&gt;</span>
<a name="line-119"></a><span class="cp">&lt;![CDATA[&lt;programlisting width=&quot;110&quot; role=&quot;scale&quot;&gt;</span>
<a name="line-120"></a><span class="cp">The listing is scaled to fit up to 110 columns, and the lines are wrapped. In this case role is redundant because @width automatically produces scaling.</span>
<a name="line-121"></a><span class="cp">                                                                                                            </span>
<a name="line-122"></a><span class="cp">123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 123456789 1234567 9 123456789</span>
<a name="line-123"></a><span class="cp">0         1         2         3         4         5         6         7         8         9         10        11       </span>
<a name="line-124"></a>
<a name="line-125"></a><span class="cp">&lt;/programlisting&gt;]]&gt;</span>
<a name="line-126"></a><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-127"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-128"></a><span class="nt">&lt;section&gt;</span>
<a name="line-129"></a><span class="nt">&lt;title&gt;</span>Formatting embedded elements<span class="nt">&lt;/title&gt;</span>
<a name="line-130"></a>
<a name="line-131"></a><span class="nt">&lt;para&gt;</span>The programlisting and screen environments are supported by dblatex, but
<a name="line-132"></a>the implementation is rather conservative, that is, most of the elements
<a name="line-133"></a>embedded in such environments are not rendered like in normal environment
<a name="line-134"></a>(e.g. bold, enphasis, etc.). Only the contained text is printed out. For the
<a name="line-135"></a>elements whose rendering is lost, <span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> prints out a
<a name="line-136"></a>warning message.<span class="nt">&lt;/para&gt;</span>
<a name="line-137"></a>
<a name="line-138"></a><span class="nt">&lt;para&gt;</span>For example, let&#39;s compile the following programlisting fragment:<span class="nt">&lt;/para&gt;</span>
<a name="line-139"></a>
<a name="line-140"></a><span class="nt">&lt;programlisting&gt;</span><span class="ni">&amp;lt;</span>programlisting<span class="ni">&amp;gt;</span>
<a name="line-141"></a> 
<a name="line-142"></a>zone <span class="ni">&amp;lt;</span>replaceable<span class="ni">&amp;gt;</span>zone_name<span class="ni">&amp;lt;</span>/replaceable<span class="ni">&amp;gt;</span> 
<a name="line-143"></a><span class="ni">&amp;lt;</span>optional<span class="ni">&amp;gt;&amp;lt;</span>replaceable<span class="ni">&amp;gt;</span>class<span class="ni">&amp;lt;</span>/replaceable<span class="ni">&amp;gt;&amp;lt;</span>/optional<span class="ni">&amp;gt;</span> { 
<a name="line-144"></a>    type delegation-only;
<a name="line-145"></a>};    
<a name="line-146"></a> 
<a name="line-147"></a><span class="ni">&amp;lt;</span>/programlisting<span class="ni">&amp;gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-148"></a>
<a name="line-149"></a><span class="nt">&lt;para&gt;&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> warns that the <span class="nt">&lt;sgmltag&gt;</span>optional<span class="nt">&lt;/sgmltag&gt;</span>
<a name="line-150"></a>and <span class="nt">&lt;sgmltag&gt;</span>replaceable<span class="nt">&lt;/sgmltag&gt;</span> elements are not supported (i.e. not
<a name="line-151"></a>rendered) in the programlisting:<span class="nt">&lt;/para&gt;</span>
<a name="line-152"></a>
<a name="line-153"></a><span class="nt">&lt;para&gt;&lt;screen&gt;</span>$ dblatex progfrag.xml 
<a name="line-154"></a>Build the book set list...
<a name="line-155"></a>Build the listings...
<a name="line-156"></a>XSLT stylesheets DocBook - LaTeX 2e (devel)
<a name="line-157"></a>===================================================
<a name="line-158"></a>Warning: the root element is not an article nor a book
<a name="line-159"></a>Warning: programlisting wrapped with article
<a name="line-160"></a>replaceable not supported in programlisting or screen
<a name="line-161"></a>optional not supported in programlisting or screen
<a name="line-162"></a>replaceable not supported in programlisting or screen
<a name="line-163"></a>replaceable not supported in programlisting or screen
<a name="line-164"></a>optional not supported in programlisting or screen
<a name="line-165"></a>replaceable not supported in programlisting or screen
<a name="line-166"></a>...
<a name="line-167"></a><span class="nt">&lt;/screen&gt;&lt;/para&gt;</span>
<a name="line-168"></a>
<a name="line-169"></a><span class="nt">&lt;para&gt;</span>If you want those elements be formatted in bold, or italic you need to
<a name="line-170"></a>override the templates used in <span class="nt">&lt;literal&gt;</span>latex.programlisting<span class="nt">&lt;/literal&gt;</span> mode,
<a name="line-171"></a>as follow:<span class="nt">&lt;/para&gt;</span>
<a name="line-172"></a>
<a name="line-173"></a><span class="nt">&lt;para&gt;&lt;programlisting&gt;</span><span class="ni">&amp;lt;</span>xsl:template match=&quot;replaceable|optional&quot; mode=&quot;latex.programlisting&quot;<span class="ni">&amp;gt;</span>
<a name="line-174"></a>   <span class="ni">&amp;lt;</span>xsl:param name=&quot;co-tagin&quot; select=&quot;&#39;<span class="ni">&amp;amp;</span>lt;:&#39;&quot;/<span class="ni">&amp;gt;</span> <span class="nt">&lt;co</span>
<a name="line-175"></a><span class="na">id=</span><span class="s">&quot;co-verb-par1&quot;</span> <span class="nt">/&gt;</span>
<a name="line-176"></a>   <span class="ni">&amp;lt;</span>xsl:param name=&quot;rnode&quot; select=&quot;/&quot;/<span class="ni">&amp;gt;</span>          <span class="nt">&lt;co</span> <span class="na">id=</span><span class="s">&quot;co-verb-par2&quot;</span> <span class="nt">/&gt;</span>
<a name="line-177"></a>   <span class="ni">&amp;lt;</span>xsl:param name=&quot;probe&quot; select=&quot;0&quot;/<span class="ni">&amp;gt;</span>          <span class="nt">&lt;co</span> <span class="na">id=</span><span class="s">&quot;co-verb-par3&quot;</span> <span class="nt">/&gt;</span>
<a name="line-178"></a> 
<a name="line-179"></a>   <span class="ni">&amp;lt;</span>xsl:call-template name=&quot;verbatim.boldseq&quot;<span class="ni">&amp;gt;</span> <span class="nt">&lt;co</span> <span class="na">id=</span><span class="s">&quot;co-verb-template&quot;</span> <span class="nt">/&gt;</span>
<a name="line-180"></a>     <span class="ni">&amp;lt;</span>xsl:with-param name=&quot;co-tagin&quot; select=&quot;$co-tagin&quot;/<span class="ni">&amp;gt;</span>
<a name="line-181"></a>     <span class="ni">&amp;lt;</span>xsl:with-param name=&quot;rnode&quot; select=&quot;$rnode&quot;/<span class="ni">&amp;gt;</span>
<a name="line-182"></a>     <span class="ni">&amp;lt;</span>xsl:with-param name=&quot;probe&quot; select=&quot;$probe&quot;/<span class="ni">&amp;gt;</span>
<a name="line-183"></a>   <span class="ni">&amp;lt;</span>/xsl:call-template<span class="ni">&amp;gt;</span>
<a name="line-184"></a><span class="ni">&amp;lt;</span>/xsl:template<span class="ni">&amp;gt;</span><span class="nt">&lt;/programlisting&gt;&lt;calloutlist&gt;</span>
<a name="line-185"></a><span class="nt">&lt;callout</span> <span class="na">arearefs=</span><span class="s">&quot;co-verb-par1 co-verb-par2 co-verb-par3&quot;</span><span class="nt">&gt;</span>
<a name="line-186"></a><span class="nt">&lt;para&gt;</span>These parameters are required in <span class="nt">&lt;literal&gt;</span>latex.programlisting<span class="nt">&lt;/literal&gt;</span>
<a name="line-187"></a>mode.<span class="nt">&lt;/para&gt;</span>
<a name="line-188"></a><span class="nt">&lt;/callout&gt;</span>
<a name="line-189"></a>
<a name="line-190"></a><span class="nt">&lt;callout</span> <span class="na">arearefs=</span><span class="s">&quot;co-verb-template&quot;</span><span class="nt">&gt;</span>
<a name="line-191"></a><span class="nt">&lt;para&gt;</span>The predefined template makes bold the verbatim text of the
<a name="line-192"></a>element.<span class="nt">&lt;/para&gt;</span>
<a name="line-193"></a><span class="nt">&lt;/callout&gt;</span>
<a name="line-194"></a><span class="nt">&lt;/calloutlist&gt;&lt;/para&gt;</span>
<a name="line-195"></a>
<a name="line-196"></a><span class="nt">&lt;para&gt;</span>If formatting setup is not enough, you can also render these elements
<a name="line-197"></a>as if they were in a normal environment. To do this, you need to override the
<a name="line-198"></a>templates used in <span class="nt">&lt;literal&gt;</span>latex.programlisting<span class="nt">&lt;/literal&gt;</span> mode, as
<a name="line-199"></a>follow:<span class="nt">&lt;/para&gt;</span>
<a name="line-200"></a>
<a name="line-201"></a><span class="nt">&lt;para&gt;&lt;programlisting&gt;</span><span class="ni">&amp;lt;</span>xsl:template match=&quot;replaceable|optional&quot; mode=&quot;latex.programlisting&quot;<span class="ni">&amp;gt;</span>
<a name="line-202"></a>   <span class="ni">&amp;lt;</span>xsl:param name=&quot;co-tagin&quot; select=&quot;&#39;<span class="ni">&amp;amp;</span>lt;:&#39;&quot;/<span class="ni">&amp;gt;</span>
<a name="line-203"></a>   <span class="ni">&amp;lt;</span>xsl:param name=&quot;rnode&quot; select=&quot;/&quot;/<span class="ni">&amp;gt;</span>
<a name="line-204"></a>   <span class="ni">&amp;lt;</span>xsl:param name=&quot;probe&quot; select=&quot;0&quot;/<span class="ni">&amp;gt;</span>
<a name="line-205"></a> 
<a name="line-206"></a>   <span class="ni">&amp;lt;</span>xsl:call-template name=&quot;verbatim.embed&quot;<span class="ni">&amp;gt;</span> <span class="nt">&lt;co</span> <span class="na">id=</span><span class="s">&quot;co-verb-template2&quot;</span> <span class="nt">/&gt;</span>
<a name="line-207"></a>     <span class="ni">&amp;lt;</span>xsl:with-param name=&quot;co-tagin&quot; select=&quot;$co-tagin&quot;/<span class="ni">&amp;gt;</span>
<a name="line-208"></a>     <span class="ni">&amp;lt;</span>xsl:with-param name=&quot;rnode&quot; select=&quot;$rnode&quot;/<span class="ni">&amp;gt;</span>
<a name="line-209"></a>     <span class="ni">&amp;lt;</span>xsl:with-param name=&quot;probe&quot; select=&quot;$probe&quot;/<span class="ni">&amp;gt;</span>
<a name="line-210"></a>   <span class="ni">&amp;lt;</span>/xsl:call-template<span class="ni">&amp;gt;</span>
<a name="line-211"></a><span class="ni">&amp;lt;</span>/xsl:template<span class="ni">&amp;gt;</span> <span class="nt">&lt;/programlisting&gt;&lt;calloutlist&gt;</span>
<a name="line-212"></a><span class="nt">&lt;callout</span> <span class="na">arearefs=</span><span class="s">&quot;co-verb-template2&quot;</span><span class="nt">&gt;</span>
<a name="line-213"></a><span class="nt">&lt;para&gt;</span>To enable the normal mode rendering within a verbatim environment, call
<a name="line-214"></a>the verbatim.embed template, and pass the mandatory parameters.<span class="nt">&lt;/para&gt;</span>
<a name="line-215"></a><span class="nt">&lt;/callout&gt;</span>
<a name="line-216"></a><span class="nt">&lt;/calloutlist&gt;&lt;/para&gt;</span>
<a name="line-217"></a>
<a name="line-218"></a><span class="nt">&lt;para&gt;&lt;/para&gt;</span>
<a name="line-219"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-220"></a><span class="nt">&lt;section</span> <span class="na">id=</span><span class="s">&quot;sec-literal-env&quot;</span><span class="nt">&gt;</span>
<a name="line-221"></a><span class="nt">&lt;title&gt;</span>Creating a new Verbatim Environment<span class="nt">&lt;/title&gt;</span>
<a name="line-222"></a>
<a name="line-223"></a><span class="nt">&lt;para&gt;&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> heavily relies upon the listing latex package
<a name="line-224"></a>to display the <span class="nt">&lt;sgmltag&gt;</span>screen<span class="nt">&lt;/sgmltag&gt;</span>, <span class="nt">&lt;sgmltag&gt;</span>programlisting<span class="nt">&lt;/sgmltag&gt;</span>, and
<a name="line-225"></a><span class="nt">&lt;sgmltag&gt;</span>literallayout<span class="nt">&lt;/sgmltag&gt;</span> blocks.<span class="nt">&lt;/para&gt;</span>
<a name="line-226"></a>
<a name="line-227"></a><span class="nt">&lt;para&gt;</span>The global listing setup can be overwritten with
<a name="line-228"></a><span class="nt">&lt;parameter&gt;</span>literal.layout.options<span class="nt">&lt;/parameter&gt;</span> but the user can also provide its
<a name="line-229"></a>own listing environment to use instead of the default environment, by using the following procedure:<span class="nt">&lt;/para&gt;</span>
<a name="line-230"></a><span class="nt">&lt;procedure&gt;</span>
<a name="line-231"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>Create the new listing environment in a customized latex style, like
<a name="line-232"></a>the following example. It is required that the environment name starts with the
<a name="line-233"></a>string <span class="nt">&lt;literal&gt;</span>&quot;lst&quot;<span class="nt">&lt;/literal&gt;</span>. If not, <span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> raises an
<a name="line-234"></a>error because it cannot recognize it as a special verbatim environment.
<a name="line-235"></a><span class="nt">&lt;programlisting</span> <span class="na">language=</span><span class="s">&quot;tex&quot;</span><span class="nt">&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-236"></a><span class="cp">%%</span>
<a name="line-237"></a><span class="cp">%% This style is derivated from the db2latex one</span>
<a name="line-238"></a><span class="cp">%%</span>
<a name="line-239"></a><span class="cp">\NeedsTeXFormat{LaTeX2e}</span>
<a name="line-240"></a><span class="cp">\ProvidesPackage{mystyle}[2012/02/03 My DocBook Style]</span>
<a name="line-241"></a>
<a name="line-242"></a><span class="cp">%% Just use the original package and pass the options</span>
<a name="line-243"></a><span class="cp">\RequirePackageWithOptions{db2latex}</span>
<a name="line-244"></a>
<a name="line-245"></a><span class="cp">%% New listing environment doing what I want</span>
<a name="line-246"></a><span class="cp">\lstnewenvironment{lstblock}[1][]</span>
<a name="line-247"></a><span class="cp">  {\lstset{numbers=left,numberstyle=\tiny,float,#1}}</span>
<a name="line-248"></a><span class="cp">  {}</span>
<a name="line-249"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/programlisting&gt;</span>
<a name="line-250"></a><span class="nt">&lt;/para&gt;&lt;/step&gt;</span>
<a name="line-251"></a><span class="nt">&lt;step&gt;&lt;para&gt;</span>Specify to <span class="nt">&lt;command&gt;</span>dblatex<span class="nt">&lt;/command&gt;</span> the listing environment name
<a name="line-252"></a>through the <span class="nt">&lt;parameter&gt;</span>literal.environment<span class="nt">&lt;/parameter&gt;</span> parameter, either on the
<a name="line-253"></a>command line or with a user XSL stylesheet.
<a name="line-254"></a><span class="nt">&lt;screen&gt;</span><span class="cp">&lt;![CDATA[</span>
<a name="line-255"></a><span class="cp">$ dblatex -s mystyle.sty -P literal.environment=lstblock file.xml</span>
<a name="line-256"></a><span class="cp">]]&gt;</span><span class="nt">&lt;/screen&gt;</span>
<a name="line-257"></a>
<a name="line-258"></a><span class="nt">&lt;/para&gt;&lt;/step&gt;</span>
<a name="line-259"></a><span class="nt">&lt;/procedure&gt;</span>
<a name="line-260"></a>
<a name="line-261"></a><span class="nt">&lt;/section&gt;</span>
<a name="line-262"></a><span class="nt">&lt;/section&gt;</span>
</pre></div>
</td></tr></table></body>
</html>
